# 第十章 包和工具

- 在 <http://godoc.org> 搜索包

## 10.1 引言

- Go 语言编译快是因为:

  - 所有的导入都必须在每一个源文件的开头显式列出，编译器在确定依赖性的时候不需要读取和处理整个文件。

  - 包的依赖性形成有向无环图，没有环，包可以独立甚至并行编译。

  - Go 包编译输出的目标文件不仅记录她自己的导出信息，还记录它所依赖包的导出信息。

## 10.2 导入路径

- 导入路径是包的唯一字符串标识，用在 import 声明中

- 除了标准库中的包，其他包的导入路径应该以互联网域名作为路径开始

## 10.3 包的声明

- 每个 go 源文件开头都要进行包声明，作为该包被其他包引入时的默认标识符。通常包名是导入路径的最后一段。

- 最后一段的例外：

  - 不管包的导入路径是什么，如果包定义一个可执行Go程序，那包名总是 main

  - 如果目录中有以 _test.go 结尾的文件名，这样的目录有两个包，一个普通包，一个测试包。

  - 有的管本管理工具会在导入路径追加版本号后缀: "gopkg.in/yaml.v2"。包名不含后缀，所以仍为 yaml

## 10.4 导入声明

- 如果需要导入两个名字名字一样的包，需要**重命名导入**, 替代的名字仅影响当前文件：

  ```go
  import (
      "crypto/rand"
      mrand "math/rand"
  )
  ```

- 重命名导入也可用于简化冗长的包名，或者规避常见的局部变量冲突

## 10.5 空导入

- 导入包时，如果只对包级别的变量执行初始化表达式并执行它的 init 函数时，使用空导入

- 空导入通常用于注册被导入包内的函数或加载包中提供的驱动

## 10.6 包及其命名

- 包名使用简短的名字，保持可读性和无歧义，使用复数形式避免预声明类型

- 使用包名 + 成员名的组合描述成员作用

## 10.7 go 工具

### 10.7.1 工作空间的组织

### 10.7.2 包的下载

### 10.7.3 包的构建

### 10.7.4 包的文档化

### 10.7.5 内部包

### 10.7.6 包的查询
